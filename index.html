<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>StreamBox Nova</title>

  <!-- Supabase SDK -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <!-- App Styles -->
  <link rel="stylesheet" href="css/ui.css?v=1">

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0c0d11">
  <link rel="apple-touch-icon" href="icons/streambox-192.png">
</head>
<body class="nova">

  <!-- Ambient background -->
  <div class="ambient"></div>

  <!-- AUTH -->
  <section id="auth" class="stage show">
    <div class="panel">
      <div class="brand">
        <div class="dot"></div>
        <h1>StreamBox <span class="tag">Nova</span></h1>
        <button id="btn-theme" class="ghost small" title="Toggle theme">Theme</button>
      </div>

      <p class="muted">Your private archive. Secure. Elegant.</p>

      <div class="inputs">
        <input id="email" type="email" placeholder="Email" autocomplete="username">
        <input id="password" type="password" placeholder="Password" autocomplete="current-password">
      </div>

      <div class="actions">
        <button id="btn-signin" class="primary">Sign In</button>
        <button id="btn-signup">Sign Up</button>
      </div>

      <div class="or">or</div>

      <div class="oauth">
        <button id="btn-apple" class="line"> Sign in with Apple</button>
        <button id="btn-google" class="line">Sign in with Google</button>
      </div>
    </div>
  </section>

  <!-- DASHBOARD -->
  <section id="home" class="stage">
    <header class="top">
      <div class="left">
        <div class="mark"><div></div></div>
        <strong>StreamBox Nova</strong>
      </div>
      <div class="mid">
        <input id="search" class="search" placeholder="Search…">
      </div>
      <div class="right">
        <span id="user-email" class="muted"></span>
        <button id="btn-profile" class="ghost">Profile</button>
        <button id="btn-signout" class="ghost">Sign out</button>
      </div>
    </header>

    <main class="grid">
      <section class="hero card">
        <div>
          <h2>Welcome back</h2>
          <p class="muted">Drop anything. We keep it safe.</p>
        </div>
        <div class="hero-actions">
          <button id="nav-files" class="primary">Open Files</button>
          <button id="btn-install" class="ghost" style="display:none;">Install App</button>
        </div>
      </section>

      <section class="card wide">
        <h3>Quick Upload</h3>
        <div id="quick" class="drop">
          <p>Drag & drop here or <a href="#" id="quick-browse">browse</a></p>
          <input id="quick-input" type="file" multiple hidden>
        </div>
      </section>

      <section class="card">
        <h3>Recent</h3>
        <ul id="recent" class="recent"></ul>
      </section>

      <section class="card">
        <h3>Status</h3>
        <div class="stats">
          <div class="stat"><div class="num" id="stat-files">—</div><div class="lbl">Files</div></div>
          <div class="stat"><div class="num" id="stat-trash">—</div><div class="lbl">In Trash</div></div>
        </div>
      </section>
    </main>
  </section>

  <!-- FILES -->
  <section id="files" class="stage">
    <header class="top">
      <div class="left">
        <button id="nav-home" class="ghost">← Dashboard</button>
        <strong>Files</strong>
      </div>
      <div class="right">
        <button id="btn-cards" class="ghost small">Cards</button>
        <button id="btn-rows"  class="ghost small">Rows</button>
        <button id="btn-trash" class="ghost small">Trash</button>
      </div>
    </header>

    <div class="wrap">
      <aside class="side card">
        <div class="row between">
          <h3>Folders</h3>
          <div class="row">
            <button id="btn-folder-new"    class="ghost small">New</button>
            <button id="btn-folder-rename" class="ghost small">Rename</button>
            <button id="btn-folder-del"    class="ghost small">Delete</button>
          </div>
        </div>
        <ul id="folders"></ul>
      </aside>

      <main class="main card">
        <div id="drop" class="drop small">
          <p>Drop files here or <a href="#" id="browse">browse</a></p>
          <input id="file-input" type="file" multiple hidden>
        </div>

        <h3 id="files-title">Your Files</h3>
        <ul id="list" class="grid"></ul>
      </main>
    </div>
  </section>

  <!-- PROFILE -->
  <section id="profile" class="stage">
    <header class="top">
      <div class="left">
        <button id="back-home" class="ghost">← Back</button>
        <strong>Profile</strong>
      </div>
    </header>
    <div class="panel card" style="max-width:720px;margin:18px auto;">
      <p>Email: <strong id="p-email"></strong></p>
      <div class="row" style="margin-top:8px;">
        <input id="p-name" type="text" placeholder="Full name">
        <input id="p-bday" type="date">
      </div>
      <div class="row" style="margin-top:10px;">
        <button id="p-save" class="primary">Save</button>
      </div>
    </div>
  </section>

  <!-- Menus + Toasts -->
  <div id="toasts"></div>

  <!-- App JS -->
<script src="js/app-core.js"></script>
<script src="js/app-auth.js"></script>
<script src="js/app-folders.js"></script>
<script src="js/app-files.js"></script>
<script src="js/app-recents.js"></script>
<script src="js/app-init.js"></script>
</body>
</html>

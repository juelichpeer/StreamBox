/* =========================================
   StreamBox – Scoped UI (won’t touch your other CSS)
   Scope: .streambox-root …
   ========================================= */

/* ---------- Theme Tokens (scoped) ---------- */
.streambox-root{
  --brand:           #6c8bff;
  --brand-ghost:     rgba(108,139,255,.18);

  --bg:              #0c0d11;
  --bg-elev:         #11131a;
  --bg-elev-strong:  #141824;

  --card:            #121521;
  --stroke:          rgba(255,255,255,.12);
  --text:            #e9ecf3;
  --muted:           #aab1bf;

  --shadow:          0 10px 30px rgba(0,0,0,.25);
  --radius-lg:       18px;
  --radius-md:       12px;
  --trans:           180ms cubic-bezier(.2,.7,.2,1);
}

/* Light theme when your JS sets data-theme="light" on <body> */
.streambox-root[data-theme="light"]{
  --bg:              #f6f7fb;
  --bg-elev:         #ffffff;
  --bg-elev-strong:  #ffffff;
  --card:            #ffffff;
  --stroke:          rgba(0,0,0,.08);
  --text:            #0e1116;
  --muted:           #576079;
  --brand-ghost:     rgba(108,139,255,.12);
}

/* ---------- Ambient background (scoped) ---------- */
.streambox-root .glass-bg{
  position:fixed; inset:-20%;
  background:
    radial-gradient(60% 40% at 10% 10%, rgba(60,120,255,.16), transparent 50%),
    radial-gradient(50% 35% at 90% 20%, rgba(180,80,255,.14), transparent 55%),
    radial-gradient(40% 50% at 30% 90%, rgba(255,180,60,.10), transparent 60%);
  filter: blur(50px);
  z-index: -1;
  animation: sb-drift 20s ease-in-out infinite alternate;
}
@keyframes sb-drift { 0%{ transform: translate3d(0,0,0) scale(1); }
                      100%{ transform: translate3d(-3%,2%,0) scale(1.02); } }

/* ---------- Cards / Surfaces ---------- */
.streambox-root .card{
  background: color-mix(in oklab, var(--card), white 6%);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(10px) saturate(1.06);
  box-shadow: var(--shadow);
}

/* ---------- Buttons (scoped) ---------- */
.streambox-root button{
  border: 1px solid var(--stroke);
  background: color-mix(in oklab, var(--bg-elev), white 3%);
  color: var(--text);
  border-radius: var(--radius-md);
  padding: 10px 12px;
  cursor: pointer;
  transition: transform var(--trans), background var(--trans), border-color var(--trans), opacity var(--trans);
}
.streambox-root button:hover{ transform: translateY(-1px); background: color-mix(in oklab, var(--bg-elev), white 6%); }
.streambox-root button:active{ transform: translateY(0); }
.streambox-root button.primary{
  background: linear-gradient(180deg, color-mix(in oklab, var(--brand), white 24%), var(--brand));
  border-color: color-mix(in oklab, var(--brand), black 25%);
  color: white;
}
.streambox-root button.ghost{ background: transparent; }
.streambox-root button:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand), transparent 80%);
}

/* ---------- Inputs (scoped) ---------- */
.streambox-root input[type="text"],
.streambox-root input[type="email"],
.streambox-root input[type="password"],
.streambox-root input[type="date"],
.streambox-root .search{
  height: 42px;
  padding: 0 12px;
  border-radius: var(--radius-md);
  border: 1px solid var(--stroke);
  background: color-mix(in oklab, var(--card), white 4%);
  color: var(--text);
}
.streambox-root input::placeholder{ color: color-mix(in oklab, var(--muted), white 10%); }

/* ---------- Utilities (scoped) ---------- */
.streambox-root .row{ display:flex; gap:10px; align-items:center; }
.streambox-root .row.between{ justify-content: space-between; }
.streambox-root .muted{ color: var(--muted); }
.streambox-root .logo-dot{ width:10px; height:10px; border-radius:50%; background:var(--brand); }

/* =========================================
   AUTH VIEW (scoped)
   ========================================= */
.streambox-root .auth-wrap{
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 24px;
  color: var(--text);
}
.streambox-root .auth-card{
  width: min(92vw, 520px);
  padding: 18px 18px 22px;
  display: flex; flex-direction: column; gap: 12px;
}
.streambox-root .auth-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.streambox-root .auth-actions{ display: flex; gap: 10px; }
.streambox-root .divider{ text-align: center; font-size: 12px; opacity: .8; }
.streambox-root .oauth{ display:flex; gap:10px; flex-wrap:wrap; }
.streambox-root .btn-apple, 
.streambox-root .btn-google{ display:flex; align-items:center; gap:8px; }

/* =========================================
   DASHBOARD LAYOUT (scoped)
   ========================================= */
.streambox-root #home-box{
  display:grid;
  grid-template-columns: 230px 1fr 300px;
  gap:18px;
  padding:18px;
  color: var(--text);
}
@media (max-width: 1100px){
  .streambox-root #home-box{ grid-template-columns: 200px 1fr; }
  .streambox-root .sb-right{ display:none; }
}
@media (max-width: 780px){
  .streambox-root #home-box{ grid-template-columns: 1fr; padding:12px; }
  .streambox-root .sb-sidebar{ position: sticky; top: 6px; z-index: 10; }
}

/* Sidebar */
.streambox-root .sb-sidebar{ padding:14px; display:flex; flex-direction:column; gap:14px; }
.streambox-root .sb-brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px }
.streambox-root .sb-nav{ display:flex; flex-direction:column; gap:6px; }
.streambox-root .sb-nav button{
  text-align:left; padding:10px 12px; border-radius:12px;
  background:transparent; border:1px solid transparent; cursor:pointer;
}
.streambox-root .sb-nav button:hover{
  background: color-mix(in oklab, var(--bg-elev), var(--brand-ghost) 50%);
}
.streambox-root .sb-nav button.active{
  background: color-mix(in oklab, var(--bg-elev-strong), var(--brand-ghost) 70%);
  border-color: var(--stroke);
}
.streambox-root .sb-bottom{ margin-top:auto; display:flex; gap:8px; flex-wrap:wrap }

/* Topbar */
.streambox-root .sb-main{ min-width: 0; }
.streambox-root .sb-topbar{
  padding:12px 14px; display:flex; align-items:center; justify-content:space-between;
}
.streambox-root .sb-topbar .left{ display:flex; align-items:center; gap:10px }
.streambox-root .search{ width:min(42vw, 420px); }

/* Hero */
.streambox-root .hero{
  display:flex; align-items:center; justify-content:space-between; gap:14px;
  padding:16px; margin-top:14px;
  background: linear-gradient(145deg, color-mix(in oklab, var(--card), white 6%),
                                       color-mix(in oklab, var(--card), var(--brand-ghost) 8%));
}
.streambox-root .hero h2{ margin:0 }
.streambox-root .hero-actions{ display:flex; gap:10px; flex-wrap:wrap }

/* Grid of widgets */
.streambox-root .sb-grid{
  margin:16px 0;
  display:grid; gap:16px;
  grid-template-columns: repeat(12, 1fr);
}
.streambox-root .widget{ padding:14px; grid-column: span 4; }
.streambox-root .widget.wide{ grid-column: span 8; }
@media (max-width:1100px){
  .streambox-root .widget{ grid-column: span 6; }
  .streambox-root .widget.wide{ grid-column: span 12; }
}
@media (max-width:700px){
  .streambox-root .widget, 
  .streambox-root .widget.wide{ grid-column: span 12; }
}
.streambox-root .list{ display:flex; flex-direction:column; gap:8px; }
.streambox-root .list li{
  border:1px solid var(--stroke);
  background: color-mix(in oklab, var(--card), transparent 30%);
  border-radius:10px; padding:8px 10px;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}

/* Right column */
.streambox-root .sb-right{ padding:14px; display:flex; flex-direction:column; gap:14px; }
.streambox-root .user-card{ display:flex; align-items:center; gap:10px }
.streambox-root .user-card .avatar{
  width:42px; height:42px; border-radius:14px;
  background: linear-gradient(120deg, var(--brand-ghost), transparent);
  border:1px solid var(--stroke);
}
.streambox-root .user-card .meta .u-name{ font-weight:600 }
.streambox-root .user-card .meta .u-mail{ color:var(--muted); font-size:12px }
.streambox-root .stats{ display:grid; grid-template-columns:1fr 1fr; gap:10px }
.streambox-root .stat{
  text-align:center; padding:12px; border-radius:12px; border:1px solid var(--stroke);
  background: color-mix(in oklab, var(--card), white 4%);
}
.streambox-root .stat-num{ font-size:22px; font-weight:700 }
.streambox-root .quick-actions{ display:flex; flex-direction:column; gap:8px }
.streambox-root .quick-actions button{ padding:10px 12px; border-radius:12px }

/* =========================================
   FILES PAGE (grid/list + dropzone + menus)
   ========================================= */
.streambox-root .dash{ display:grid; grid-template-columns: 260px 1fr; gap: 16px; padding: 16px; }
@media (max-width: 980px){ .streambox-root .dash{ grid-template-columns: 1fr; } }

.streambox-root .folders{ padding: 14px; }
.streambox-root .folders-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom: 10px; }
.streambox-root #folder-list li{
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid transparent;
  cursor: pointer;
}
.streambox-root #folder-list li.active{
  background: color-mix(in oklab, var(--bg-elev), var(--brand-ghost) 60%);
  border-color: var(--stroke);
}
.streambox-root #folder-list li:hover{
  background: color-mix(in oklab, var(--bg-elev), var(--brand-ghost) 40%);
}

.streambox-root .main{ padding: 14px; }

/* Dropzone */
.streambox-root .drop{
  height: 160px;
  display:grid; place-items:center;
  border: 1.5px dashed color-mix(in oklab, var(--stroke), var(--brand) 25%);
  border-radius: var(--radius-lg);
  background: color-mix(in oklab, var(--card), white 3%);
  transition: border-color var(--trans), background var(--trans);
}
.streambox-root .drop:hover{
  border-color: color-mix(in oklab, var(--brand), white 10%);
  background: color-mix(in oklab, var(--card), white 7%);
}
.streambox-root .drop.small{ height: 120px; }

/* File list – grid */
.streambox-root #file-list.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 10px;
}
.streambox-root .file-card{
  position: relative;
  border: 1px solid var(--stroke);
  border-radius: 14px;
  padding: 10px;
  background: color-mix(in oklab, var(--card), white 3%);
  display: grid; grid-template-rows: 1fr auto;
}
.streambox-root .file-card .thumb{
  height: 120px; border-radius: 10px;
  border: 1px solid var(--stroke);
  background: color-mix(in oklab, var(--bg-elev), transparent 40%);
  display: grid; place-items:center; overflow: hidden;
}
.streambox-root .file-card .thumb img,
.streambox-root .file-card .thumb video{ width: 100%; height: 100%; object-fit: cover; }
.streambox-root .file-card .file-name{ margin-top: 8px; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.streambox-root .kebab{
  position:absolute; top:8px; right:8px;
  width:28px; height:28px; display:grid; place-items:center;
  border-radius: 8px;
  border: 1px solid var(--stroke);
  background: color-mix(in oklab, var(--card), white 3%);
  cursor: pointer;
}

/* File list – rows */
.streambox-root #file-list.row-list{ display:flex; flex-direction:column; gap: 8px; }
.streambox-root .row-item{
  display:grid; grid-template-columns: 56px 1fr auto;
  align-items:center; gap: 10px; padding: 8px 10px;
  border: 1px solid var(--stroke); border-radius: 12px;
  background: color-mix(in oklab, var(--card), white 3%);
}
.streambox-root .row-thumb{
  width:56px; height:56px; border-radius: 10px;
  border: 1px solid var(--stroke); overflow:hidden;
  background: color-mix(in oklab, var(--bg-elev), transparent 40%);
}
.streambox-root .row-thumb img{ width:100%; height:100%; object-fit:cover; }
.streambox-root .kebab-row{
  width:28px; height:28px; display:grid; place-items:center;
  border-radius: 8px; border: 1px solid var(--stroke);
  background: color-mix(in oklab, var(--card), white 3%);
  cursor: pointer;
  justify-self: end;
}

/* Context menu (files + folders) */
.streambox-root .menu{
  position: absolute;
  min-width: 180px;
  background: color-mix(in oklab, var(--bg-elev), white 6%);
  border: 1px solid var(--stroke);
  border-radius: 12px;
  box-shadow: var(--shadow);
  padding: 6px;
  color: var(--text);
}
.streambox-root .menu button{
  width: 100%; text-align: left;
  padding: 10px 10px; border-radius: 8px;
  border: 1px solid transparent; background: transparent;
  color: var(--text);
}
.streambox-root .menu button:hover{
  background: color-mix(in oklab, var(--bg-elev), var(--brand-ghost) 60%);
}

/* =========================================
   PROFILE VIEW (scoped)
   ========================================= */
.streambox-root #profile-box .card{ padding: 16px; }
.streambox-root #profile-box input{ width: 100%; }

/* =========================================
   MODAL (Move File) (scoped)
   ========================================= */
.streambox-root .overlay{
  position: fixed; inset: 0; display: none;
  background: rgba(0,0,0,.35);
  align-items: center; justify-content: center;
  padding: 16px;
}
.streambox-root .modal{
  width: min(92vw, 420px);
  background: color-mix(in oklab, var(--bg-elev), white 6%);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
  padding: 16px;
  color: var(--text);
}
.streambox-root .modal .actions{ margin-top: 12px; display: flex; gap: 10px; justify-content: flex-end; }
.streambox-root .modal .list{ display:flex; flex-direction:column; gap:8px; max-height: 40vh; overflow:auto }
.streambox-root .modal .opt{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px; border:1px solid var(--stroke); border-radius:10px;
  cursor: pointer;
  color: var(--text);
}

/* =========================================
   TOASTS (scoped)
   ========================================= */
.streambox-root #toasts{
  position: fixed; right: 14px; bottom: 14px;
  display: flex; flex-direction: column; gap: 8px;
  z-index: 9999;
}
.streambox-root .toast{
  min-width: 220px;
  border: 1px solid var(--stroke);
  border-radius: 12px;
  background: color-mix(in oklab, var(--bg-elev), white 6%);
  padding: 10px 12px;
  box-shadow: var(--shadow);
  color: var(--text);
}
.streambox-root .toast.success{ border-color: rgba(60, 200, 120, .5); }
.streambox-root .toast.error{ border-color: rgba(240, 90, 90, .65); }
.streambox-root .toast small{ display:block; margin-top:4px; color: var(--muted); font-size: 12px; }

/* =========================================
   TOPBAR (Files page) (scoped)
   ========================================= */
.streambox-root .topbar{
  padding:12px 14px; margin: 14px 14px 0;
  display:flex; align-items:center; justify-content:space-between;
  color: var(--text);
}

/* Links inside StreamBox UI */
.streambox-root a{ color: color-mix(in oklab, var(--brand), white 10%); text-decoration: none; }
.streambox-root a:hover{ text-decoration: underline; }
